

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Post-processings &mdash; The MFEM MGIS project  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Glossary Of Parameters" href="glossary.html" />
    <link rel="prev" title="Boundary conditions" href="boundary_conditions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            The MFEM MGIS project
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation_guide/installation_guide.html">Installation guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="user_guide.html">User guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial.html">A tutorial introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview and main concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="behaviour_integrators.html">Behaviour integrators</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary_conditions.html">Boundary conditions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Post-processings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-paraviewexport-post-processing">The <code class="code docutils literal notranslate"><span class="pre">ParaviewExport</span></code> post-processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#export-integration-point-results-at-nodes">Export Integration Point Results At Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compute-mean-thermodynamic-forces">Compute Mean Thermodynamic Forces</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compute-stored-energy">Compute Stored Energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compute-dissipated-energy">Compute dissipated Energy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary Of Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../commented_examples/commented_examples.html">Commented Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/developer_guide.html">Developer guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The MFEM MGIS project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="user_guide.html">User guide</a></li>
      <li class="breadcrumb-item active">Post-processings</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user_guide/post_processings.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="post-processings">
<span id="mfem-mgis-post-processings"></span><h1>Post-processings<a class="headerlink" href="#post-processings" title="Link to this heading"></a></h1>
<p>In this section, we describe the post-processing options available in
MFEM-MGIS.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#the-paraviewexport-post-processing" id="id1">The <code class="code docutils literal notranslate"><span class="pre">ParaviewExport</span></code> post-processing</a></p></li>
<li><p><a class="reference internal" href="#export-integration-point-results-at-nodes" id="id2">Export Integration Point Results At Nodes</a></p></li>
<li><p><a class="reference internal" href="#compute-mean-thermodynamic-forces" id="id3">Compute Mean Thermodynamic Forces</a></p></li>
<li><p><a class="reference internal" href="#compute-stored-energy" id="id4">Compute Stored Energy</a></p></li>
<li><p><a class="reference internal" href="#compute-dissipated-energy" id="id5">Compute dissipated Energy</a></p></li>
</ul>
</nav>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This section is under construction</p>
</div>
<section id="the-paraviewexport-post-processing">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">The <code class="code docutils literal notranslate"><span class="pre">ParaviewExport</span></code> post-processing</a><a class="headerlink" href="#the-paraviewexport-post-processing" title="Link to this heading"></a></h2>
<p>This post-processing allows to export the unknowns of a nonlinear
evolution problem for visualization in <code class="code docutils literal notranslate"><span class="pre">paraview</span></code>:</p>
<ul class="simple">
<li><p>Key: <code class="docutils literal notranslate"><span class="pre">ParaviewExportResults</span></code></p></li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">problem</span><span class="p">.</span><span class="n">addPostProcessing</span><span class="p">(</span><span class="s">&quot;ParaviewExportResults&quot;</span><span class="p">,</span>
<span class="w">                          </span><span class="p">{{</span><span class="s">&quot;OutputFileName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;SatohTestOutput&quot;</span><span class="p">}});</span>
</pre></div>
</div>
<p><strong>Results</strong></p>
<figure class="align-default">
<img alt="../_images/SatohTest1.png" src="../_images/SatohTest1.png" />
</figure>
<p>It is also possible to extract only portions of the mesh by defining either the boundary zones or the materials (domain attributes). This is particularly useful for reducing the size of output files when only a small part is to be studied.</p>
<p><strong>Example</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">mfem_mgis</span><span class="o">::</span><span class="n">Parameter</span><span class="o">&gt;</span><span class="w"> </span><span class="n">materials</span><span class="p">{</span><span class="s">&quot;Attr1&quot;</span><span class="p">,</span><span class="s">&quot;Attr2&quot;</span><span class="p">};</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">mfem_mgis</span><span class="o">::</span><span class="n">Parameter</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bdrs</span><span class="p">{</span><span class="s">&quot;left&quot;</span><span class="p">,</span><span class="s">&quot;right&quot;</span><span class="p">};</span>
<span class="cm">/** You can not define Materials and Boundaries in a single post processing */</span>
<span class="n">problem</span><span class="p">.</span><span class="n">addPostProcessing</span><span class="p">(</span><span class="s">&quot;ParaviewExportResults&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">{{</span><span class="s">&quot;OutputFileName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;TestPPSubMeshOutputDir/AllMesh&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;Materials&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">materials</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;OutputFieldName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Displacement&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;Verbosity&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">}});</span>
<span class="n">problem</span><span class="p">.</span><span class="n">addPostProcessing</span><span class="p">(</span><span class="s">&quot;ParaviewExportResults&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">{{</span><span class="s">&quot;OutputFileName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;TestPPSubMeshOutputDir/Attribute1&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;OutputFieldName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Displacement&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;Material&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Attr1&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;Verbosity&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">}});</span>
<span class="n">problem</span><span class="p">.</span><span class="n">addPostProcessing</span><span class="p">(</span><span class="s">&quot;ParaviewExportResults&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">{{</span><span class="s">&quot;OutputFileName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;TestPPSubMeshOutputDir/Attribute2&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;OutputFieldName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Displacement&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;Material&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Attr2&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;Verbosity&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">}});</span>
<span class="n">problem</span><span class="p">.</span><span class="n">addPostProcessing</span><span class="p">(</span><span class="s">&quot;ParaviewExportResults&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">{{</span><span class="s">&quot;OutputFileName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;TestPPSubMeshOutputDir/Boundaries&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;OutputFieldName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Displacement&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;Boundaries&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">bdrs</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;Verbosity&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">}});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Boundary and Material names are defined by the problem using the key words: “Boundaries” or “Materials” such as:</p>
<ul class="simple">
<li><p>{“Materials”, mfem_mgis::Parameters{{“Attr1”, 1}, {“Attr2”, 2}}}</p></li>
<li><p>{“Boundaries”, mfem_mgis::Parameters{{“left”, 1}, {“right”, 2}}}</p></li>
</ul>
</div>
<p><strong>Results</strong></p>
<figure class="align-default">
<img alt="../_images/ExportDataAtNodes.png" src="../_images/ExportDataAtNodes.png" />
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Key</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OutputFileName</p></td>
<td><p>Name of the output directory</p></td>
</tr>
<tr class="row-odd"><td><p>OutputFieldName</p></td>
<td><p>Name of the field that will appear in ParaView (default: <code class="docutils literal notranslate"><span class="pre">&quot;u&quot;</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p>Material/Materials</p></td>
<td><p>List of materials; a submesh will be used instead of exporting the entire mesh</p></td>
</tr>
<tr class="row-odd"><td><p>Boundary/Boundaries</p></td>
<td><p>List of boundaries; a submesh will be used instead of exporting the entire mesh</p></td>
</tr>
<tr class="row-even"><td><p>Verbosity</p></td>
<td><p>If this value is <code class="docutils literal notranslate"><span class="pre">&gt;=</span> <span class="pre">1</span></code>, submesh information will be displayed when using attributes</p></td>
</tr>
</tbody>
</table>
</section>
<section id="export-integration-point-results-at-nodes">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Export Integration Point Results At Nodes</a><a class="headerlink" href="#export-integration-point-results-at-nodes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Key: <code class="docutils literal notranslate"><span class="pre">ParaviewExportIntegrationPointResultsAtNodes</span></code></p></li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">mfem_mgis</span><span class="o">::</span><span class="n">Parameter</span><span class="o">&gt;</span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;Stress&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ImposedTemperature&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HydrostaticPressure&quot;</span><span class="p">};</span>
<span class="n">problem</span><span class="p">.</span><span class="n">addPostProcessing</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;ParaviewExportIntegrationPointResultsAtNodes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">{{</span><span class="s">&quot;OutputFileName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;SatohTestIntegrationPointOutput&quot;</span><span class="p">},</span>
<span class="w">     </span><span class="p">{</span><span class="s">&quot;Materials&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;plate&quot;</span><span class="p">}},</span>
<span class="w">     </span><span class="p">{</span><span class="s">&quot;Results&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">results</span><span class="p">}});</span>
</pre></div>
</div>
<p><strong>Results</strong></p>
<figure class="align-default">
<img alt="../_images/SatohTestStress.png" src="../_images/SatohTestStress.png" />
</figure>
<figure class="align-default">
<img alt="../_images/SatohTestTemperature.png" src="../_images/SatohTestTemperature.png" />
</figure>
<figure class="align-default">
<img alt="../_images/SatohTestPressure.png" src="../_images/SatohTestPressure.png" />
</figure>
</section>
<section id="compute-mean-thermodynamic-forces">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Compute Mean Thermodynamic Forces</a><a class="headerlink" href="#compute-mean-thermodynamic-forces" title="Link to this heading"></a></h2>
<blockquote>
<div><p>The <cite>Compute Mean Thermodynamic Forces</cite> post-processing step calculates the average stress over selected regions of the mesh.</p>
</div></blockquote>
<ul class="simple">
<li><p>Key: <code class="docutils literal notranslate"><span class="pre">MeanThermodynamicForces</span></code></p></li>
</ul>
<p><strong>Example: print the average stress of one inclusion into a matrix (RVE)</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="p">.</span><span class="n">addPostProcessing</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;MeanThermodynamicForces&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">{{</span><span class="s">&quot;OutputFileName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;avgStress&quot;</span><span class="p">}});</span>
</pre></div>
</div>
<p><strong>Results</strong></p>
<p>We display the average stress SZZ over the RVE (composed of 83% matrix and 17% inclusion), we process the avgstress file and then plot the result:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>awk &#39;{if(NR&gt;13) print $1 &quot; &quot; 0.83*$4+0.17*$10}&#39; avgStress &gt; res-mfem-mgis.txt
plot &quot;res-mfem-mgis.txt&quot; u 1:2 w l title &quot;mfem-mgis&quot;
</pre></div>
</div>
<figure class="align-default">
<img alt="../_images/avgStress.png" src="../_images/avgStress.png" />
</figure>
</section>
<section id="compute-stored-energy">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Compute Stored Energy</a><a class="headerlink" href="#compute-stored-energy" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Key: <code class="docutils literal notranslate"><span class="pre">StoredEnergy</span></code></p></li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="p">.</span><span class="n">addPostProcessing</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;StoredEnergy&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">{{</span><span class="s">&quot;OutputFileName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;energy.txt&quot;</span><span class="p">}});</span>
</pre></div>
</div>
</section>
<section id="compute-dissipated-energy">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Compute dissipated Energy</a><a class="headerlink" href="#compute-dissipated-energy" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Key: <code class="docutils literal notranslate"><span class="pre">DissipatedEnergy</span></code></p></li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="p">.</span><span class="n">addPostProcessing</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;DissipatedEnergy&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">{{</span><span class="s">&quot;OutputFileName&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;dissiped_energy.txt&quot;</span><span class="p">}});</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="boundary_conditions.html" class="btn btn-neutral float-left" title="Boundary conditions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="glossary.html" class="btn btn-neutral float-right" title="Glossary Of Parameters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2024, Thomas Helfer, Guillaume Latu, Raphaël Prat, Maxence Wangermez.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>